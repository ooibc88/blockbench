version: "3"

services:

  eth_bootnode:
    hostname: bootnode
    environment:
      - key=0acd3e0043e73c4bf95187c935fb7d6cc688685f1da60fb72da1d588ffca13f5
    build:
      context: ./bootnode
    ports:
      - 30301:30301/udp
    networks:
      eth_private_network:
        ipv4_address: 172.28.1.10



  eth_miner1:
    restart: on-failure:5
    hostname: miner1
    depends_on:
      - eth_bootnode
    environment:
      - addr=0xa7EfD857De41dc223Cfc8cf6FE052348492864C4
      - id=4cb7dc25aaeb769ae94ce002e2ecd5232d9421a81c3cc63620a79db127778dd89c61348e7475a1e977cb72121098d364451bcbbaffd2981e306408d4b2405a6e
      - ip=172.28.1.10
    build:
      context: ./miner
      args:
        pk: 91fa188e5e01a3ba4df713c97e1b712a878451db3952fc104f7eb90e9f860e0c # BIP39 Mnemonic: panel average amount abandon fence renew spoon powder top grid whip achieve access sponsor meadow
        pwd: 9Uk5kskVGZdTsu87 # 9 USA korean 5 korean skype korean VISA GOLF ZIP drip TOKYO skype usa 8 7
    container_name: miner1
    ports:
      # http port
      - 8545:59767
    volumes:
     - eth_data_miner1:/root/.ethash
    networks:
      eth_private_network:
        ipv4_address: 172.28.1.12



networks:
  eth_private_network:
    driver: bridge
    ipam:
      config:
      - subnet: 172.28.1.0/24

volumes:
  eth_data_miner1:
